# RSP Experiment Configuration

# =============================================================================
# Dataset Configuration
# =============================================================================
dataset:
  name: hotpotqa
  difficulties:
    - easy    # 2-hop questions
    - hard    # 7-hop questions
  samples_per_difficulty: 10

# =============================================================================
# Attack Configuration
# =============================================================================
attacks:
  types:
    - meta_rsp  # Explicit injection (baseline, detectable)
    - gsi       # Generative Style Injection (stealthy)

  styles:
    - paralysis  # Over-cautious
    - haste      # Over-confident

  poison_rates:
    - 0.2   # 20% retrieval-time poison rate
    - 0.5   # 50%
    - 1.0   # 100% (full poisoning)

# =============================================================================
# Agent Configuration
# =============================================================================
agents:
  types:
    - react       # Baseline: simple reasoning + acting
    - reflection  # ReAct + self-reflection loop
    - tot         # Tree-of-Thought (multi-path)

  max_steps: 10

  # ToT specific
  tot_branches: 2

# =============================================================================
# Defense Configuration
# =============================================================================
defenses:
  instruction_detector:
    enabled: true
    keyword_threshold: 2

  perplexity_filter:
    enabled: true
    threshold: 50.0
    model: gpt2

  llm_detector:
    enabled: false  # Expensive, enable for full evaluation
    model: gpt-4.1

# =============================================================================
# LLM Configuration
# =============================================================================
llm:
  model: gpt-4.1
  temperature: 0.0
  max_tokens: 4096

# GSI rewriting
gsi:
  model: gpt-4.1
  temperature: 0.7

# =============================================================================
# Evaluation Configuration
# =============================================================================
evaluation:
  max_eval: 10  # Examples per condition

  metrics:
    - quality       # Semantic similarity
    - steps         # Reasoning steps
    - tokens        # Token consumption
    - time          # Execution time
    - search_calls  # Number of SEARCH actions
    - rsv           # Reasoning-Style Vector

# =============================================================================
# Output Configuration
# =============================================================================
output:
  log_dir: logs
  figure_dir: figures
  save_traces: true
  save_rsv: true
